
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Building Jersey2 REST Client Using Spring With JUnit and JMock - My Experiments with Technology</title>
  <meta name="author" content="Elizabeth Thomas">

  
  <meta name="description" content="This post will show how to create a Jersey2 REST Client in a Spring environment and test the same using JUnit and JMock frameworks. The details of &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://elizabetht.github.io/blog/2013/12/23/jersey2-rest-client-with-junit-and-jmock">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My Experiments with Technology" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-45852485-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">My Experiments with Technology</a></h1>
  
    <h2>Before I forget, I better get it written and get it published!</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:elizabetht.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About Me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Building Jersey2 REST Client Using Spring With JUnit and JMock</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-23T12:10:30-06:00" pubdate data-updated="true">Dec 23<span>rd</span>, 2013</time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://elizabetht.github.io">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>This post will show how to create a Jersey2 REST Client in a Spring environment and test the same using JUnit and JMock frameworks. The details of the actual application are explained in the earlier post given by the link <a href="http://elizabetht.github.io/blog/2013/12/13/student-enrollment-using-jersey-rest-with-spring/">Building Java Web Application Using Jersey REST With Spring</a>.</p>

<!-- more -->


<h2>1. Update pom.xml</h2>

<p>To make the Maven Java Web Application project (<a href="http://elizabetht.github.io/blog/2013/12/13/student-enrollment-using-jersey-rest-with-spring/">Building Java Web Application Using Jersey REST With Spring</a>) support the JUnit testing framework, add the following dependency to the existing pom.xml</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;dependency&gt;
</span><span class='line'>  &lt;groupId&gt;org.jmock&lt;/groupId&gt;
</span><span class='line'>  &lt;artifactId&gt;jmock-junit4&lt;/artifactId&gt;
</span><span class='line'>  &lt;version&gt;2.6.0&lt;/version&gt;
</span><span class='line'>&lt;/dependency&gt;</span></code></pre></td></tr></table></div></figure>


<h2>2. Create packages for Client tier classes</h2>

<p>Create package for the Jersey Client classes under the src/main/java folder.</p>

<p>A sample snapshot of the project after the package creation is as shown below:</p>

<p><img src="/images/jersey-client-package.png" title="Jersey REST Client Package Layout" alt="Jersey REST Client Package Layout" /></p>

<h2>3. Create classes for Client tier</h2>

<p>Create an interface class named StudentClientInterface.java inside the package com.github.elizabetht.client to support the client operations.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public interface StudentClientInterface {
</span><span class='line'>
</span><span class='line'>  public Response getSignup();
</span><span class='line'>
</span><span class='line'>  public Response postSignup(String userName, String password,
</span><span class='line'>          String firstName, String lastName, String dateOfBirth,
</span><span class='line'>          String emailAddress) throws Exception;
</span><span class='line'>
</span><span class='line'>  public Response getLogin();
</span><span class='line'>
</span><span class='line'>  public Response postLogin(String userName, String password);
</span><span class='line'>
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>Create a client tier implementation class (a POJO indeed) named StudentClient.java inside the package com.github.elizabetht.client. This is where the client logic goes &ndash; either to access the GET/POST methods in the StudentResource.java class.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public class StudentClient implements StudentClientInterface {
</span><span class='line'>  private WebTarget target;
</span><span class='line'>
</span><span class='line'>  public StudentClient(WebTarget target) {
</span><span class='line'>      this.target = target;
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  public Response getSignup() {       
</span><span class='line'>      Response response = target.path("signup").request().get(Response.class);
</span><span class='line'>      return response;
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  public Response postSignup(String userName, String password,
</span><span class='line'>          String firstName, String lastName, String dateOfBirth,
</span><span class='line'>          String emailAddress) throws Exception {
</span><span class='line'>      
</span><span class='line'>      Form form = new Form().param("userName", userName)
</span><span class='line'>              .param("password", password).param("firstName", firstName)
</span><span class='line'>              .param("lastName", lastName).param("dateOfBirth", dateOfBirth)
</span><span class='line'>              .param("emailAddress", emailAddress);
</span><span class='line'>      Response response = target.path("signup").request()
</span><span class='line'>              .post(Entity.form(form));
</span><span class='line'>
</span><span class='line'>      if (response.getStatus() == Status.INTERNAL_SERVER_ERROR
</span><span class='line'>              .getStatusCode()) {
</span><span class='line'>          throw new Exception();
</span><span class='line'>      }
</span><span class='line'>
</span><span class='line'>      if (response.getStatus() != Status.OK.getStatusCode()) {
</span><span class='line'>          throw new RuntimeException();
</span><span class='line'>      }
</span><span class='line'>
</span><span class='line'>      return response;
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  public Response getLogin() {
</span><span class='line'>      Response response = target.path("login").request().get(Response.class);
</span><span class='line'>
</span><span class='line'>      return response;
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  public Response postLogin(String userName, String password) {
</span><span class='line'>      Form form = new Form().param("userName", userName).param("password",
</span><span class='line'>              password);
</span><span class='line'>
</span><span class='line'>      Response response = target.path("login").request()
</span><span class='line'>              .post(Entity.form(form));
</span><span class='line'>
</span><span class='line'>      if (response.getStatus() != Status.OK.getStatusCode()) {
</span><span class='line'>          throw new RuntimeException();
</span><span class='line'>      }
</span><span class='line'>
</span><span class='line'>      return response;
</span><span class='line'>  }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h2>4. Create packages for Client Test tier classes</h2>

<p>Create package for the Client Test classes by right-clicking on the StudentClient.java class and choosing &ldquo;New->JUnit Test Case&rdquo; option. Specify the source folder as StudentEnrollmentWithREST/src/test/java folder (create the src/test/java folder if the folder does not exist) and specify the name for the test class.</p>

<p>A sample snapshot of the project after the package creation is as shown below:</p>

<p><img src="/images/jersey-client-test-package.png" title="Jersey REST Client Test Package Layout" alt="Jersey REST Client Test Package Layout" /></p>

<h2>5. Extract Interfaces for Model and Resource tier classes</h2>

<p>In order to support the use of JMock mocking framework alongside JUnit test cases, extract the interfaces out of the Model(Student.java) and Resource (StudentResource.java) tier classes. This is necessary in order to mock the objects.</p>

<p>Extracting interfaces can be done by right-clicking on the class file and choosing &ldquo;Refactor->Extract Interface&rdquo; option.</p>

<p>The StudentInterface.java (in src/main/java/com.github.elizabetht.model package) after the extraction looks as below.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public interface StudentInterface {
</span><span class='line'>
</span><span class='line'>  public Long getId();
</span><span class='line'>
</span><span class='line'>  public void setId(Long id);
</span><span class='line'>
</span><span class='line'>  public String getUserName();
</span><span class='line'>
</span><span class='line'>  public void setUserName(String userName);
</span><span class='line'>
</span><span class='line'>  public String getFirstName();
</span><span class='line'>
</span><span class='line'>  public void setFirstName(String firstName);
</span><span class='line'>
</span><span class='line'>  public String getLastName();
</span><span class='line'>
</span><span class='line'>  public void setLastName(String lastName);
</span><span class='line'>
</span><span class='line'>  public String getPassword();
</span><span class='line'>
</span><span class='line'>  public void setPassword(String password);
</span><span class='line'>
</span><span class='line'>  public String getEmailAddress();
</span><span class='line'>
</span><span class='line'>  public void setEmailAddress(String emailAddress);
</span><span class='line'>
</span><span class='line'>  public Date getDateOfBirth();
</span><span class='line'>
</span><span class='line'>  public void setDateOfBirth(Date dateOfBirth);
</span><span class='line'>
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>Similarly, the StudentResourceInterface.java (in src/main/java/com.github.elizabetht.resource package) looks as below.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public interface StudentResourceInterface {
</span><span class='line'>
</span><span class='line'>  public Response signup();
</span><span class='line'>
</span><span class='line'>  public Response signup(String userName, String password, String firstName,
</span><span class='line'>          String lastName, String dateOfBirth, String emailAddress)
</span><span class='line'>          throws ParseException;
</span><span class='line'>
</span><span class='line'>  public Response login();
</span><span class='line'>
</span><span class='line'>  public Response login(String userName, String password);
</span><span class='line'>
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h2>6. Create Unit Test cases for StudentClient class</h2>

<p>As a part of unit testing, each of the unit must be testable individually. While in reality, each unit would depend on other modules. This is where JMock comes into picture &ndash; to help to test a unit individually by mocking the dependencies.</p>

<p>@Before annotation helps to define the environment that needs to be setup before running each test case. In this example, the context and mock objects are setup using the @Before annotation.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
<span class='line-number'>193</span>
<span class='line-number'>194</span>
<span class='line-number'>195</span>
<span class='line-number'>196</span>
<span class='line-number'>197</span>
<span class='line-number'>198</span>
<span class='line-number'>199</span>
<span class='line-number'>200</span>
<span class='line-number'>201</span>
<span class='line-number'>202</span>
<span class='line-number'>203</span>
<span class='line-number'>204</span>
<span class='line-number'>205</span>
<span class='line-number'>206</span>
<span class='line-number'>207</span>
<span class='line-number'>208</span>
<span class='line-number'>209</span>
<span class='line-number'>210</span>
<span class='line-number'>211</span>
<span class='line-number'>212</span>
<span class='line-number'>213</span>
<span class='line-number'>214</span>
<span class='line-number'>215</span>
<span class='line-number'>216</span>
<span class='line-number'>217</span>
<span class='line-number'>218</span>
<span class='line-number'>219</span>
<span class='line-number'>220</span>
<span class='line-number'>221</span>
<span class='line-number'>222</span>
<span class='line-number'>223</span>
<span class='line-number'>224</span>
<span class='line-number'>225</span>
<span class='line-number'>226</span>
<span class='line-number'>227</span>
<span class='line-number'>228</span>
<span class='line-number'>229</span>
<span class='line-number'>230</span>
<span class='line-number'>231</span>
<span class='line-number'>232</span>
<span class='line-number'>233</span>
<span class='line-number'>234</span>
<span class='line-number'>235</span>
<span class='line-number'>236</span>
<span class='line-number'>237</span>
<span class='line-number'>238</span>
<span class='line-number'>239</span>
<span class='line-number'>240</span>
<span class='line-number'>241</span>
<span class='line-number'>242</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public class StudentClientUnitTest {
</span><span class='line'>  private Mockery context;
</span><span class='line'>  private StudentClient studentClient;
</span><span class='line'>  private WebTarget target;
</span><span class='line'>  private Builder builder;
</span><span class='line'>
</span><span class='line'>  @Before
</span><span class='line'>  public void beforeEachTest() {
</span><span class='line'>      context = new Mockery();
</span><span class='line'>      studentClient = new StudentClient(
</span><span class='line'>              ClientBuilder
</span><span class='line'>                      .newClient()
</span><span class='line'>                      .target("http://localhost:8080/StudentEnrollmentWithREST/webapi/studentResource/"));
</span><span class='line'>      target = context.mock(WebTarget.class);
</span><span class='line'>      builder = context.mock(Builder.class);
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test
</span><span class='line'>  public void getSignupTest() {
</span><span class='line'>      studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>      final Response response = Response.ok(new Viewable("/signup")).build();
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(target).path(with(any(String.class)));
</span><span class='line'>              will(returnValue(target));
</span><span class='line'>              oneOf(target).request();
</span><span class='line'>              will(returnValue(builder));
</span><span class='line'>              oneOf(builder).get(Response.class);
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentClient.getSignup();
</span><span class='line'>      assertEquals(response.getStatus(), Status.OK.getStatusCode());
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test
</span><span class='line'>  public void postSignupTest() throws Exception {
</span><span class='line'>      String userName = "jersey";
</span><span class='line'>      String password = "jersey";
</span><span class='line'>      String firstName = "jersey";
</span><span class='line'>      String lastName = "jersey";
</span><span class='line'>      String dateOfBirth = "12-21-2013";
</span><span class='line'>      String emailAddress = "jersey@gmail.com";
</span><span class='line'>      studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>      final Response response = Response.ok(new Viewable("/success")).build();
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(target).path(with(any(String.class)));
</span><span class='line'>              will(returnValue(target));
</span><span class='line'>              oneOf(target).request();
</span><span class='line'>              will(returnValue(builder));
</span><span class='line'>              oneOf(builder).post(with(any(Entity.class)));
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentClient.postSignup(userName, password, firstName, lastName,
</span><span class='line'>              dateOfBirth, emailAddress);
</span><span class='line'>      assertEquals(response.getStatus(), Status.OK.getStatusCode());
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test(expected = Exception.class)
</span><span class='line'>  public void postSignupInvalidDateFormatTest() throws Exception {
</span><span class='line'>      String userName = "jersey";
</span><span class='line'>      String password = "jersey";
</span><span class='line'>      String firstName = "jersey";
</span><span class='line'>      String lastName = "jersey";
</span><span class='line'>      String dateOfBirth = "12/21/2013";
</span><span class='line'>      String emailAddress = "jersey@gmail.com";
</span><span class='line'>      studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>      final Response response = Response.status(Status.PRECONDITION_FAILED)
</span><span class='line'>              .build();
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(target).path(with(any(String.class)));
</span><span class='line'>              will(returnValue(target));
</span><span class='line'>              oneOf(target).request();
</span><span class='line'>              will(returnValue(builder));
</span><span class='line'>              oneOf(builder).post(with(any(Entity.class)));
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentClient.postSignup(userName, password, firstName, lastName,
</span><span class='line'>              dateOfBirth, emailAddress);
</span><span class='line'>      assertEquals(response.getStatus(), Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test(expected = Exception.class)
</span><span class='line'>  public void postSignupBadRequestTest() throws Exception {
</span><span class='line'>      String userName = null;
</span><span class='line'>      String password = null;
</span><span class='line'>      String firstName = null;
</span><span class='line'>      String lastName = null;
</span><span class='line'>      String dateOfBirth = null;
</span><span class='line'>      String emailAddress = null;
</span><span class='line'>      studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>      final Response response = Response.status(Status.PRECONDITION_FAILED)
</span><span class='line'>              .build();
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(target).path(with(any(String.class)));
</span><span class='line'>              will(returnValue(target));
</span><span class='line'>              oneOf(target).request();
</span><span class='line'>              will(returnValue(builder));
</span><span class='line'>              oneOf(builder).post(with(any(Entity.class)));
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentClient.postSignup(userName, password, firstName, lastName,
</span><span class='line'>              dateOfBirth, emailAddress);
</span><span class='line'>      assertEquals(response.getStatus(), Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test(expected = RuntimeException.class)
</span><span class='line'>  public void postSignupExistingUserTest() throws Exception {
</span><span class='line'>      String userName = "jersey";
</span><span class='line'>      String password = "jersey";
</span><span class='line'>      String firstName = "jersey";
</span><span class='line'>      String lastName = "jersey";
</span><span class='line'>      String dateOfBirth = "12/21/2013";
</span><span class='line'>      String emailAddress = "jersey@gmail.com";
</span><span class='line'>      studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>      final Response response = Response.status(Status.BAD_REQUEST).build();
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(target).path(with(any(String.class)));
</span><span class='line'>              will(returnValue(target));
</span><span class='line'>              oneOf(target).request();
</span><span class='line'>              will(returnValue(builder));
</span><span class='line'>              oneOf(builder).post(with(any(Entity.class)));
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentClient.postSignup(userName, password, firstName, lastName,
</span><span class='line'>              dateOfBirth, emailAddress);
</span><span class='line'>      assertEquals(response.getStatus(), Status.BAD_REQUEST.getStatusCode());
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test
</span><span class='line'>  public void getLoginTest() {
</span><span class='line'>      studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>      final Response response = Response.ok(new Viewable("/login")).build();
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(target).path(with(any(String.class)));
</span><span class='line'>              will(returnValue(target));
</span><span class='line'>              oneOf(target).request();
</span><span class='line'>              will(returnValue(builder));
</span><span class='line'>              oneOf(builder).get(Response.class);
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentClient.getLogin();
</span><span class='line'>      assertEquals(response.getStatus(), Status.OK.getStatusCode());
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test
</span><span class='line'>  public void postLoginTest() {
</span><span class='line'>      String userName = "jersey";
</span><span class='line'>      String password = "jersey";
</span><span class='line'>      studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>      final Response response = Response.ok(new Viewable("/success")).build();
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(target).path(with(any(String.class)));
</span><span class='line'>              will(returnValue(target));
</span><span class='line'>              oneOf(target).request();
</span><span class='line'>              will(returnValue(builder));
</span><span class='line'>              oneOf(builder).post(with(any(Entity.class)));
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentClient.postLogin(userName, password);
</span><span class='line'>      assertEquals(response.getStatus(), Status.OK.getStatusCode());
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>  
</span><span class='line'>  @Test(expected=RuntimeException.class)
</span><span class='line'>  public void postLoginInvalidTest() {
</span><span class='line'>      String userName = "jersey";
</span><span class='line'>      String password = "jersey123";
</span><span class='line'>      studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>      final Response response = Response.status(Status.BAD_REQUEST).build();
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(target).path(with(any(String.class)));
</span><span class='line'>              will(returnValue(target));
</span><span class='line'>              oneOf(target).request();
</span><span class='line'>              will(returnValue(builder));
</span><span class='line'>              oneOf(builder).post(with(any(Entity.class)));
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentClient.postLogin(userName, password);
</span><span class='line'>      assertEquals(response.getStatus(), Status.BAD_REQUEST.getStatusCode());
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>  
</span><span class='line'>  @Test(expected=RuntimeException.class)
</span><span class='line'>  public void postLoginBadRequestTest() {
</span><span class='line'>      String userName = null;
</span><span class='line'>      String password = null;
</span><span class='line'>      studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>      final Response response = Response.status(Status.PRECONDITION_FAILED).build();
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(target).path(with(any(String.class)));
</span><span class='line'>              will(returnValue(target));
</span><span class='line'>              oneOf(target).request();
</span><span class='line'>              will(returnValue(builder));
</span><span class='line'>              oneOf(builder).post(with(any(Entity.class)));
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentClient.postLogin(userName, password);
</span><span class='line'>      assertEquals(response.getStatus(), Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h2>7. Create Unit Test cases for StudentResource class</h2>

<p>In similar lines, create unit test cases for StudentResource class by mocking the external dependencies which the class depends on for its operation.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
<span class='line-number'>193</span>
<span class='line-number'>194</span>
<span class='line-number'>195</span>
<span class='line-number'>196</span>
<span class='line-number'>197</span>
<span class='line-number'>198</span>
<span class='line-number'>199</span>
<span class='line-number'>200</span>
<span class='line-number'>201</span>
<span class='line-number'>202</span>
<span class='line-number'>203</span>
<span class='line-number'>204</span>
<span class='line-number'>205</span>
<span class='line-number'>206</span>
<span class='line-number'>207</span>
<span class='line-number'>208</span>
<span class='line-number'>209</span>
<span class='line-number'>210</span>
<span class='line-number'>211</span>
<span class='line-number'>212</span>
<span class='line-number'>213</span>
<span class='line-number'>214</span>
<span class='line-number'>215</span>
<span class='line-number'>216</span>
<span class='line-number'>217</span>
<span class='line-number'>218</span>
<span class='line-number'>219</span>
<span class='line-number'>220</span>
<span class='line-number'>221</span>
<span class='line-number'>222</span>
<span class='line-number'>223</span>
<span class='line-number'>224</span>
<span class='line-number'>225</span>
<span class='line-number'>226</span>
<span class='line-number'>227</span>
<span class='line-number'>228</span>
<span class='line-number'>229</span>
<span class='line-number'>230</span>
<span class='line-number'>231</span>
<span class='line-number'>232</span>
<span class='line-number'>233</span>
<span class='line-number'>234</span>
<span class='line-number'>235</span>
<span class='line-number'>236</span>
<span class='line-number'>237</span>
<span class='line-number'>238</span>
<span class='line-number'>239</span>
<span class='line-number'>240</span>
<span class='line-number'>241</span>
<span class='line-number'>242</span>
<span class='line-number'>243</span>
<span class='line-number'>244</span>
<span class='line-number'>245</span>
<span class='line-number'>246</span>
<span class='line-number'>247</span>
<span class='line-number'>248</span>
<span class='line-number'>249</span>
<span class='line-number'>250</span>
<span class='line-number'>251</span>
<span class='line-number'>252</span>
<span class='line-number'>253</span>
<span class='line-number'>254</span>
<span class='line-number'>255</span>
<span class='line-number'>256</span>
<span class='line-number'>257</span>
<span class='line-number'>258</span>
<span class='line-number'>259</span>
<span class='line-number'>260</span>
<span class='line-number'>261</span>
<span class='line-number'>262</span>
<span class='line-number'>263</span>
<span class='line-number'>264</span>
<span class='line-number'>265</span>
<span class='line-number'>266</span>
<span class='line-number'>267</span>
<span class='line-number'>268</span>
<span class='line-number'>269</span>
<span class='line-number'>270</span>
<span class='line-number'>271</span>
<span class='line-number'>272</span>
<span class='line-number'>273</span>
<span class='line-number'>274</span>
<span class='line-number'>275</span>
<span class='line-number'>276</span>
<span class='line-number'>277</span>
<span class='line-number'>278</span>
<span class='line-number'>279</span>
<span class='line-number'>280</span>
<span class='line-number'>281</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public class StudentResourceUnitTest {
</span><span class='line'>  private Mockery context;
</span><span class='line'>  private StudentService studentService;
</span><span class='line'>  private StudentResourceInterface studentResourceInterface;
</span><span class='line'>
</span><span class='line'>  @Before
</span><span class='line'>  public void beforeEachTest() throws Exception {
</span><span class='line'>      context = new Mockery();
</span><span class='line'>      studentService = context.mock(StudentService.class);
</span><span class='line'>      studentResourceInterface = new StudentResource();
</span><span class='line'>
</span><span class='line'>      Field field = studentResourceInterface.getClass().getDeclaredField(
</span><span class='line'>              "studentService");
</span><span class='line'>      field.setAccessible(true);
</span><span class='line'>      field.set(studentResourceInterface, studentService);
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test
</span><span class='line'>  public void postSignupResourceTest() throws ParseException {
</span><span class='line'>      final String userName = "jersey";
</span><span class='line'>      String password = "jersey";
</span><span class='line'>      String firstName = "jersey";
</span><span class='line'>      String lastName = "jersey";
</span><span class='line'>      String dateOfBirth = "12/21/2013";
</span><span class='line'>      String emailAddress = "jersey@gmail.com";
</span><span class='line'>      final StudentInterface student = context.mock(StudentInterface.class);
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentService).findByUserName(userName);
</span><span class='line'>              will(returnValue(false));
</span><span class='line'>              oneOf(studentService).save(with(any(StudentInterface.class)));
</span><span class='line'>              will(returnValue(student));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>              lastName, dateOfBirth, emailAddress);
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test
</span><span class='line'>  public void postSignupResourceForExistingUserTest() throws ParseException {
</span><span class='line'>      final String userName = "jersey";
</span><span class='line'>      String password = "jersey";
</span><span class='line'>      String firstName = "jersey";
</span><span class='line'>      String lastName = "jersey";
</span><span class='line'>      String dateOfBirth = "12/21/2013";
</span><span class='line'>      String emailAddress = "jersey@gmail.com";
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentService).findByUserName(userName);
</span><span class='line'>              will(returnValue(true));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>              lastName, dateOfBirth, emailAddress);
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test
</span><span class='line'>  public void postSignupResourceForBadRequestTest() throws ParseException {
</span><span class='line'>      String userName = null;
</span><span class='line'>      String password = null;
</span><span class='line'>      String firstName = null;
</span><span class='line'>      String lastName = null;
</span><span class='line'>      String dateOfBirth = null;
</span><span class='line'>      String emailAddress = null;
</span><span class='line'>      final StudentResourceInterface studentResourceInterface = context
</span><span class='line'>              .mock(StudentResourceInterface.class);
</span><span class='line'>      final Response response = Response.status(Status.PRECONDITION_FAILED)
</span><span class='line'>              .build();
</span><span class='line'>      final Response response1 = Response.ok().entity(new Viewable("/login"))
</span><span class='line'>              .build();
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentResourceInterface).signup(
</span><span class='line'>                      with(aNull(String.class)), with(aNull(String.class)),
</span><span class='line'>                      with(aNull(String.class)), with(aNull(String.class)),
</span><span class='line'>                      with(aNull(String.class)), with(aNull(String.class)));
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>              lastName, dateOfBirth, emailAddress);
</span><span class='line'>      assertEquals(response.getStatus(),
</span><span class='line'>              Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>      userName = "jersey";
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentResourceInterface).signup(
</span><span class='line'>                      with(aNonNull(String.class)),
</span><span class='line'>                      with(aNull(String.class)), with(aNull(String.class)),
</span><span class='line'>                      with(aNull(String.class)), with(aNull(String.class)),
</span><span class='line'>                      with(aNull(String.class)));
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>              lastName, dateOfBirth, emailAddress);
</span><span class='line'>      assertEquals(response.getStatus(),
</span><span class='line'>              Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>      password = "jersey";
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentResourceInterface).signup(
</span><span class='line'>                      with(aNonNull(String.class)),
</span><span class='line'>                      with(aNonNull(String.class)),
</span><span class='line'>                      with(aNull(String.class)), with(aNull(String.class)),
</span><span class='line'>                      with(aNull(String.class)), with(aNull(String.class)));
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>              lastName, dateOfBirth, emailAddress);
</span><span class='line'>      assertEquals(response.getStatus(),
</span><span class='line'>              Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>      firstName = "jersey";
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentResourceInterface).signup(
</span><span class='line'>                      with(aNonNull(String.class)),
</span><span class='line'>                      with(aNonNull(String.class)),
</span><span class='line'>                      with(aNonNull(String.class)),
</span><span class='line'>                      with(aNull(String.class)), with(aNull(String.class)),
</span><span class='line'>                      with(aNull(String.class)));
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>              lastName, dateOfBirth, emailAddress);
</span><span class='line'>
</span><span class='line'>      lastName = "jersey";
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentResourceInterface).signup(
</span><span class='line'>                      with(aNonNull(String.class)),
</span><span class='line'>                      with(aNonNull(String.class)),
</span><span class='line'>                      with(aNonNull(String.class)),
</span><span class='line'>                      with(aNonNull(String.class)),
</span><span class='line'>                      with(aNull(String.class)), with(aNull(String.class)));
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>              lastName, dateOfBirth, emailAddress);
</span><span class='line'>      assertEquals(response.getStatus(),
</span><span class='line'>              Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>      dateOfBirth = "12/20/2013";
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentResourceInterface)
</span><span class='line'>                      .signup(with(aNonNull(String.class)),
</span><span class='line'>                              with(aNonNull(String.class)),
</span><span class='line'>                              with(aNonNull(String.class)),
</span><span class='line'>                              with(aNonNull(String.class)),
</span><span class='line'>                              with(aNonNull(String.class)),
</span><span class='line'>                              with(aNull(String.class)));
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>              lastName, dateOfBirth, emailAddress);
</span><span class='line'>      assertEquals(response.getStatus(),
</span><span class='line'>              Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>      emailAddress = "jersey@gmail.com";
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentResourceInterface).signup(
</span><span class='line'>                      with(aNonNull(String.class)),
</span><span class='line'>                      with(aNonNull(String.class)),
</span><span class='line'>                      with(aNonNull(String.class)),
</span><span class='line'>                      with(aNonNull(String.class)),
</span><span class='line'>                      with(aNonNull(String.class)),
</span><span class='line'>                      with(aNonNull(String.class)));
</span><span class='line'>              will(returnValue(response1));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>              lastName, dateOfBirth, emailAddress);
</span><span class='line'>      assertEquals(response1.getStatus(), Status.OK.getStatusCode());
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test
</span><span class='line'>  public void postLoginResourceTest() throws ParseException {
</span><span class='line'>      final String userName = "jersey";
</span><span class='line'>      final String password = "jersey";
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentService).findByLogin(userName, password);
</span><span class='line'>              will(returnValue(true));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentResourceInterface.login(userName, password);
</span><span class='line'>
</span><span class='line'>      final String password1 = "jersey123";
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentService).findByLogin(userName, password1);
</span><span class='line'>              will(returnValue(false));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentResourceInterface.login(userName, password1);
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test
</span><span class='line'>  public void postLoginResourceForBadRequestTest() throws ParseException {
</span><span class='line'>      final String userName = null;
</span><span class='line'>      final String password = null;
</span><span class='line'>      final StudentResourceInterface studentResourceInterface = context
</span><span class='line'>              .mock(StudentResourceInterface.class);
</span><span class='line'>      final Response response = Response.status(Status.PRECONDITION_FAILED)
</span><span class='line'>              .build();
</span><span class='line'>      final Response response1 = Response.ok().entity(new Viewable("/login"))
</span><span class='line'>              .build();
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentResourceInterface).login(
</span><span class='line'>                      with(aNull(String.class)), with(aNull(String.class)));
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentResourceInterface.login(userName, password);
</span><span class='line'>      assertEquals(response.getStatus(),
</span><span class='line'>              Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>      final String userName1 = "jersey";
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentResourceInterface)
</span><span class='line'>                      .login(with(aNonNull(String.class)),
</span><span class='line'>                              with(aNull(String.class)));
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentResourceInterface.login(userName1, password);
</span><span class='line'>      assertEquals(response.getStatus(),
</span><span class='line'>              Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>      final String password1 = "jersey";
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentResourceInterface)
</span><span class='line'>                      .login(with(aNull(String.class)),
</span><span class='line'>                              with(aNonNull(String.class)));
</span><span class='line'>              will(returnValue(response));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentResourceInterface.login(userName, password1);
</span><span class='line'>      assertEquals(response.getStatus(),
</span><span class='line'>              Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentResourceInterface).login(
</span><span class='line'>                      with(aNonNull(String.class)),
</span><span class='line'>                      with(aNonNull(String.class)));
</span><span class='line'>              will(returnValue(response1));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentResourceInterface.login(userName1, password1);
</span><span class='line'>      assertEquals(response1.getStatus(), Status.OK.getStatusCode());
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h2>8. Create Unit Test cases for StudentService class</h2>

<p>Create unit test cases for StudentService class by mocking the external dependencies which the class depends on for its operation.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public class StudentServiceUnitTest {
</span><span class='line'>  private Mockery context;
</span><span class='line'>  private StudentRepository studentRepository;
</span><span class='line'>  private StudentService studentService;
</span><span class='line'>
</span><span class='line'>  @Before
</span><span class='line'>  public void beforeEachTest() throws Exception {
</span><span class='line'>      context = new Mockery();
</span><span class='line'>      studentRepository = context.mock(StudentRepository.class);
</span><span class='line'>      studentService = new StudentServiceImpl();
</span><span class='line'>
</span><span class='line'>      Field field = studentService.getClass().getDeclaredField(
</span><span class='line'>              "studentRepository");
</span><span class='line'>      field.setAccessible(true);
</span><span class='line'>      field.set(studentService, studentRepository);
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test
</span><span class='line'>  public void findByLoginTest() {
</span><span class='line'>      final String userName = "j2eee";
</span><span class='line'>      final String password = "j2ee";
</span><span class='line'>      final StudentInterface studentInterface = null;
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentRepository).findByUserName(userName);
</span><span class='line'>              will(returnValue(studentInterface));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentService.findByLogin(userName, password);
</span><span class='line'>      assertNull(studentInterface);
</span><span class='line'>
</span><span class='line'>      final String userName1 = "j2ee";
</span><span class='line'>      final StudentInterface studentInterface1 = context
</span><span class='line'>              .mock(StudentInterface.class);
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentRepository).findByUserName(userName1);
</span><span class='line'>              will(returnValue(studentInterface1));
</span><span class='line'>              oneOf(studentInterface1).getPassword();
</span><span class='line'>              will(returnValue(password));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentService.findByLogin(userName1, password);
</span><span class='line'>      assertNotNull(studentInterface1);
</span><span class='line'>      assertEquals("j2ee", password);
</span><span class='line'>
</span><span class='line'>      final String password1 = "j2eee";
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentRepository).findByUserName(userName1);
</span><span class='line'>              will(returnValue(studentInterface1));
</span><span class='line'>              oneOf(studentInterface1).getPassword();
</span><span class='line'>              will(returnValue(password1));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentService.findByLogin(userName1, password1);
</span><span class='line'>      assertNotNull(studentInterface1);
</span><span class='line'>      assertNotEquals("j2ee", password1);
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test
</span><span class='line'>  public void findByLoginWithNullParametersTest() {
</span><span class='line'>      final String userName = null;
</span><span class='line'>      final String password = null;
</span><span class='line'>      studentService = context.mock(StudentService.class);
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentService).findByLogin(with(aNull(String.class)),
</span><span class='line'>                      with(aNull(String.class)));
</span><span class='line'>              will(returnValue(false));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentService.findByLogin(userName, password);
</span><span class='line'>
</span><span class='line'>      final String userName1 = "j2ee";
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentService).findByLogin(with(aNonNull(String.class)),
</span><span class='line'>                      with(aNull(String.class)));
</span><span class='line'>              will(returnValue(false));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentService.findByLogin(userName1, password);
</span><span class='line'>
</span><span class='line'>      final String password1 = "j2eee";
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentService).findByLogin(with(aNull(String.class)),
</span><span class='line'>                      with(aNonNull(String.class)));
</span><span class='line'>              will(returnValue(false));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentService.findByLogin(userName, password1);
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentService).findByLogin(with(aNonNull(String.class)),
</span><span class='line'>                      with(aNonNull(String.class)));
</span><span class='line'>              will(returnValue(false));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentService.findByLogin(userName1, password1);
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test
</span><span class='line'>  public void findByEmptyLoginTest() {
</span><span class='line'>      final String userName = "";
</span><span class='line'>      final String password = "";
</span><span class='line'>      final StudentInterface studentInterface = null;
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentRepository).findByUserName(userName);
</span><span class='line'>              will(returnValue(studentInterface));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentService.findByLogin(userName, password);
</span><span class='line'>      assertNull(studentInterface);
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test
</span><span class='line'>  public void findByUserNameTest() {
</span><span class='line'>      final String userName = "j2ee";
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentRepository)
</span><span class='line'>                      .findByUserName(with(any(String.class)));
</span><span class='line'>              will(returnValue(with(any(StudentInterface.class))));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentService.findByUserName(userName);
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  @Test
</span><span class='line'>  public void findByBadUserNameTest() {
</span><span class='line'>      final String userName = "j2eee";
</span><span class='line'>      final StudentInterface studentInterface = null;
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentRepository)
</span><span class='line'>                      .findByUserName(with(any(String.class)));
</span><span class='line'>              will(returnValue(studentInterface));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentService.findByUserName(userName);
</span><span class='line'>      assertNull(studentInterface);
</span><span class='line'>
</span><span class='line'>      final String userName1 = "j2ee";
</span><span class='line'>      final StudentInterface studentInterface1 = context
</span><span class='line'>              .mock(StudentInterface.class);
</span><span class='line'>
</span><span class='line'>      context.checking(new Expectations() {
</span><span class='line'>          {
</span><span class='line'>              oneOf(studentRepository).findByUserName(userName1);
</span><span class='line'>              will(returnValue(studentInterface1));
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>      studentService.findByUserName(userName1);
</span><span class='line'>      assertNotNull(studentInterface1);
</span><span class='line'>
</span><span class='line'>      context.assertIsSatisfied();
</span><span class='line'>  }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h2>9. Running Test cases</h2>

<p>Any of the test case or test class can be run by right clicking on the name of the test case or test class and choosing &ldquo;Run As->JUnit test case&rdquo;. Each of the test case developed should be tested to give a success output (indicated by the green bar in the JUnit output)</p>

<h2>10. Code Coverage</h2>

<p>Using tools like EclEmma, code coverage for the project can be measured. To install EclEmma, choose &ldquo;Help->Eclipse Marketplace&rdquo; and search for EclEmma in the search toolbar. Install the tool using the steps on-screen.</p>

<p>Once the tool is installed, the code coverage for the project can be measured by choosing &ldquo;Coverage As->JUnit test case&rdquo; from the right click options on the project.</p>

<p>Achieving a code coverage of about or above 80% is normally preferred according to industrial standards. Not only writing unit test cases for existing code, but developing test scenarios for which code is not in place is an important step in Test Driven Development (TDD). By iteratively following the TDD approach, the stability of the code could be significantly improved.</p>

<h2>11. Clone or Download code</h2>

<p>If using git, clone a copy of this project here: <a href="https://github.com/elizabetht/StudentEnrollmentWithREST.git">https://github.com/elizabetht/StudentEnrollmentWithREST.git</a></p>

<p>In case of not using git, download the project as ZIP or tar.gz file here: <a href="https://github.com/elizabetht/StudentEnrollmentWithREST/releases/tag/1.2">https://github.com/elizabetht/StudentEnrollmentWithREST/releases/tag/1.2</a></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Elizabeth Thomas</span></span>

      








  


<time datetime="2013-12-23T12:10:30-06:00" pubdate data-updated="true">Dec 23<span>rd</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/eclemma/'>EclEmma</a>, <a class='category' href='/blog/categories/hibernate/'>Hibernate</a>, <a class='category' href='/blog/categories/junit-slash-jmock/'>JUnit/JMock</a>, <a class='category' href='/blog/categories/jersey2/'>Jersey2</a>, <a class='category' href='/blog/categories/maven/'>Maven</a>, <a class='category' href='/blog/categories/spring/'>Spring</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://elizabetht.github.io/blog/2013/12/23/jersey2-rest-client-with-junit-and-jmock/" data-via="email2eliza" data-counturl="http://elizabetht.github.io/blog/2013/12/23/jersey2-rest-client-with-junit-and-jmock/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/12/13/student-enrollment-using-jersey-rest-with-spring/" title="Previous Post: Building Java Web Application Using Jersey2 REST with Spring">&laquo; Building Java Web Application Using Jersey2 REST with Spring</a>
      
      
        <a class="basic-alignment right" href="/blog/2014/01/13/jenkins-continuous-integration/" title="Next Post: Deploying Java Web Applications using Jenkins Continuous Integration">Deploying Java Web Applications using Jenkins Continuous Integration &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/01/13/jenkins-continuous-integration/">Deploying Java Web Applications Using Jenkins Continuous Integration</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/23/jersey2-rest-client-with-junit-and-jmock/">Building Jersey2 REST Client Using Spring With JUnit and JMock</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/13/student-enrollment-using-jersey-rest-with-spring/">Building Java Web Application Using Jersey2 REST With Spring</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/21/student-enrollment-using-jdbc/">Building Java Web Application Using JDBC</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/21/student-enrollment-using-struts-2/">Building Java Web Application Using Struts 2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/21/student-enrollment-using-hibernate-with-spring/">Building Java Web Application Using Hibernate With Spring</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/21/student-enrollment-using-mybatis-with-spring/">Building Java Web Application Using MyBatis With Spring</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/elizabetht">@elizabetht</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'elizabetht',
            count: 5,
            skip_forks: false,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/+ElizabethThomasPlus?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>


<section>
  <h1>Categories</h1>
    <ul id="category-list"><li><a href='/blog/categories/continuous-integration/'>Continuous Integration (1)</a></li><li><a href='/blog/categories/eclemma/'>EclEmma (1)</a></li><li><a href='/blog/categories/hibernate/'>Hibernate (3)</a></li><li><a href='/blog/categories/jdbc/'>JDBC (1)</a></li><li><a href='/blog/categories/jersey2/'>Jersey2 (2)</a></li><li><a href='/blog/categories/junit-slash-jmock/'>JUnit/JMock (1)</a></li><li><a href='/blog/categories/maven/'>Maven (4)</a></li><li><a href='/blog/categories/mybatis/'>MyBatis (1)</a></li><li><a href='/blog/categories/rest/'>REST (1)</a></li><li><a href='/blog/categories/spring/'>Spring (4)</a></li><li><a href='/blog/categories/struts2/'>Struts2 (1)</a></li></ul>
</section>
<section>
<!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/classic-081711.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="http://github.us3.list-manage1.com/subscribe/post?u=b264ccce5e1eeb4d1d482783b&amp;id=6c42c2322e" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
	<h2>Subscribe to my mailing list</h2>
<div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
<div class="mc-field-group">
	<label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>
</label>
	<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
</div>
<div class="mc-field-group">
	<label for="mce-FNAME">First Name </label>
	<input type="text" value="" name="FNAME" class="" id="mce-FNAME">
</div>
<div class="mc-field-group">
	<label for="mce-LNAME">Last Name </label>
	<input type="text" value="" name="LNAME" class="" id="mce-LNAME">
</div>
<div class="mc-field-group input-group">
    <strong>Email Format </strong>
    <ul><li><input type="radio" value="html" name="EMAILTYPE" id="mce-EMAILTYPE-0"><label for="mce-EMAILTYPE-0">html</label></li>
<li><input type="radio" value="text" name="EMAILTYPE" id="mce-EMAILTYPE-1"><label for="mce-EMAILTYPE-1">text</label></li>
</ul>
</div>
	<div id="mce-responses" class="clear">
		<div class="response" id="mce-error-response" style="display:none"></div>
		<div class="response" id="mce-success-response" style="display:none"></div>
	</div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;"><input type="text" name="b_b264ccce5e1eeb4d1d482783b_6c42c2322e" value=""></div>
	<div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
</form>
</div>

<!--End mc_embed_signup-->

</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Elizabeth Thomas -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'elizabetht';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://elizabetht.github.io/blog/2013/12/23/jersey2-rest-client-with-junit-and-jmock/';
        var disqus_url = 'http://elizabetht.github.io/blog/2013/12/23/jersey2-rest-client-with-junit-and-jmock/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
