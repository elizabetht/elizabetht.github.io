
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Building Java Web Application Using Jersey REST With Spring - My Experiments with Java</title>
  <meta name="author" content="Elizabeth Thomas">

  
  <meta name="description" content="This post will show how to create a Student Enrollment Application using MYSQL DB with Hibernate ORM in a REST based Jersey2 Spring environment. This &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://elizabetht.github.io/blog/2013/12/13/student-enrollment-using-jersey-rest-with-spring">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My Experiments with Java" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-45852485-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">My Experiments with Java</a></h1>
  
    <h2>Before I forget, I better get it written and get it published!</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss email">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
    <li><a href="email2eliza@gmail.com" rel="subscribe-email" title="subscribe via email">Email</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:elizabetht.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Building Java Web Application Using Jersey REST With Spring</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-13T10:45:30-06:00" pubdate data-updated="true">Dec 13<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>This post will show how to create a Student Enrollment Application using MYSQL DB with Hibernate ORM in a REST based Jersey2 Spring environment. This is a simple application that aims to collect the input details from the user during signup, save the details in the MYSQL DB and authenticate the same during login.</p>

<h2>1. Create Java Web Application Project using Maven Template</h2>

<p>To begin with, from the command line, create a Java Maven project with the template of jersey-quickstart-webapp by providing appropriate values for GroupId, Artifact Id, Version and Package for the project.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mvn archetype:generate -DarchetypeGroupId=org.glassfish.jersey.archetypes -DarchetypeArtifactId=jersey-quickstart-webapp -DarchetypeVersion=2.4.1</span></code></pre></td></tr></table></div></figure>


<p>Import the project into the IDE using File->Import->Existing Maven Projects, select Root Directory where the Project is created (ideally the name of the Project or ArtifactId) and click on Finish. The sample web application directory structure is shown below with a standard deployment descriptor web.xml and Maven pom.xml</p>

<p><img src="/images/jersey-layout.png" title="Jersey REST Spring Maven Project Layout" alt="Jersey REST Spring Maven Project Layout" /></p>

<h2>2. Update pom.xml</h2>

<p>To make the above Maven Java Web Application project support the Hibernate ORM and Jersey Container in Spring framework, add the following dependencies to the existing pom.xml</p>

<ul>
<li>jstl and servlet-api (for Javax Servlet Support)</li>
<li>jersey-container-servlet, jersey-media-moxy, jersey-spring3, jersey-server and jersey-mvc-jsp (for Jersey Support)</li>
<li>spring-core, spring-context, spring-web and spring-webmvc(for Spring Support)</li>
<li>junit (for JUnit Support)</li>
<li>commons-lang3 (for standard Java library support)</li>
<li>mysql-connector-java (for MYSQL support)</li>
<li>spring-jdbc (for data access with JDBC Spring)</li>
<li>spring-orm (for ORM data access with Spring)</li>
<li>spring-data-jpa (for JPA support)</li>
<li>hibernate-validator and hibernate-entitymanager (for Hibernate Support)</li>
<li>jta (for transaction support)</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;dependencies&gt;
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;2.5&lt;/version&gt;
</span><span class='line'>      &lt;scope&gt;provided&lt;/scope&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;jstl&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;1.2&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;
</span><span class='line'>      &lt;!-- &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt; --&gt;
</span><span class='line'>      &lt;!-- use the above artifactId if you need servlet 2.x compatibility --&gt;
</span><span class='line'>      &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;${jersey.version}&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>  &lt;!-- uncomment this to get JSON support --&gt;
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;${jersey.version}&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;jersey-spring3&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;${jersey.version}&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;${jersey.version}&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;jersey-mvc-jsp&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;${jersey.version}&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;${spring.version}&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;${spring.version}&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;${spring.version}&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;${spring.version}&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;${spring.version}&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;${spring.version}&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;junit&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;junit&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;4.11&lt;/version&gt;
</span><span class='line'>      &lt;scope&gt;test&lt;/scope&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;3.1&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;mysql&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;5.1.21&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;4.2.0.Final&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;4.1.9.Final&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;javax.transaction&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;jta&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;1.1&lt;/version&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>
</span><span class='line'>  &lt;dependency&gt;
</span><span class='line'>      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;
</span><span class='line'>      &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;
</span><span class='line'>      &lt;version&gt;1.3.0.RELEASE&lt;/version&gt;
</span><span class='line'>      &lt;exclusions&gt;
</span><span class='line'>          &lt;exclusion&gt;
</span><span class='line'>              &lt;groupId&gt;org.springframework&lt;/groupId&gt;
</span><span class='line'>              &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;
</span><span class='line'>          &lt;/exclusion&gt;
</span><span class='line'>      &lt;/exclusions&gt;
</span><span class='line'>  &lt;/dependency&gt;
</span><span class='line'>
</span><span class='line'>&lt;/dependencies&gt;
</span><span class='line'>&lt;properties&gt;
</span><span class='line'>  &lt;jersey.version&gt;2.4.1&lt;/jersey.version&gt;
</span><span class='line'>  &lt;spring.version&gt;3.2.4.RELEASE&lt;/spring.version&gt;
</span><span class='line'>  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
</span><span class='line'>&lt;/properties&gt;</span></code></pre></td></tr></table></div></figure>


<h2>3. Modify web.xml</h2>

<p>Modify the contents of the web.xml to include the following:</p>

<ul>
<li>A Welcome file.</li>
<li>The Context Config Location.</li>
<li>A ContextLoaderLister and RequestContextListener to integrate spring with the web application.</li>
<li>A Spring Jersey Web Servlet. Specify the location of the provider packages, enable the JSON POJO Mapping Feature, provide the path where the JSP files for the project are stored to the JSP TemplateBasePath and enable the JSP MVC Feature. In this sample, a configuration file named applicationConfig.xml is created under src/main/resources folder  and the JSP files are placed under WEB-INF/jsp folder in the project layout.</li>
<li>A servlet-mapping to map the servlet created in the above step that should be invoked when the client specifies the url matching the url pattern.</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
</span><span class='line'>&lt;!-- This web.xml file is not required when using Servlet 3.0 container,
</span><span class='line'>     see implementation details http://jersey.java.net/nonav/documentation/latest/jax-rs.html --&gt;
</span><span class='line'>&lt;web-app version="2.5" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"&gt;
</span><span class='line'>
</span><span class='line'>  &lt;welcome-file-list&gt;
</span><span class='line'>      &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
</span><span class='line'>  &lt;/welcome-file-list&gt;
</span><span class='line'>  
</span><span class='line'>  &lt;context-param&gt;
</span><span class='line'>          &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
</span><span class='line'>      &lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;
</span><span class='line'>      &lt;/context-param&gt;
</span><span class='line'>      &lt;listener&gt;
</span><span class='line'>      &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
</span><span class='line'>      &lt;/listener&gt;
</span><span class='line'>      &lt;listener&gt;
</span><span class='line'>      &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;
</span><span class='line'>      &lt;/listener&gt;
</span><span class='line'>  
</span><span class='line'>    &lt;servlet&gt;
</span><span class='line'>        &lt;servlet-name&gt;Spring Jersey Web Servlet&lt;/servlet-name&gt;
</span><span class='line'>        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;
</span><span class='line'>        &lt;init-param&gt;
</span><span class='line'>            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;
</span><span class='line'>            &lt;param-value&gt;com.github.elizabetht&lt;/param-value&gt;
</span><span class='line'>        &lt;/init-param&gt;
</span><span class='line'>        &lt;init-param&gt;
</span><span class='line'>              &lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;
</span><span class='line'>              &lt;param-value&gt;true&lt;/param-value&gt;
</span><span class='line'>      &lt;/init-param&gt;
</span><span class='line'>      &lt;init-param&gt;
</span><span class='line'>          &lt;param-name&gt;jersey.config.server.mvc.templateBasePath.jsp&lt;/param-name&gt;
</span><span class='line'>          &lt;param-value&gt;/WEB-INF/jsp&lt;/param-value&gt;
</span><span class='line'>      &lt;/init-param&gt;
</span><span class='line'>      &lt;init-param&gt;
</span><span class='line'>          &lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;
</span><span class='line'>          &lt;param-value&gt;org.glassfish.jersey.server.mvc.jsp.JspMvcFeature&lt;/param-value&gt;
</span><span class='line'>      &lt;/init-param&gt;
</span><span class='line'>        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
</span><span class='line'>    &lt;/servlet&gt;
</span><span class='line'>    &lt;servlet-mapping&gt;
</span><span class='line'>        &lt;servlet-name&gt;Spring Jersey Web Servlet&lt;/servlet-name&gt;
</span><span class='line'>        &lt;url-pattern&gt;/webapi/*&lt;/url-pattern&gt;
</span><span class='line'>    &lt;/servlet-mapping&gt;
</span><span class='line'>&lt;/web-app&gt;</span></code></pre></td></tr></table></div></figure>


<h2>4. Create persistence.xml</h2>

<p>Create a file named persistence.xml under the folder src/main/resources/META-INF folder in the project to define the persistence unit required by JPA. Add the following to the persistence.xml to define a persistence unit named punit.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;persistence xmlns="http://java.sun.com/xml/ns/persistence"
</span><span class='line'>  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
</span><span class='line'>  xsi:schemaLocation="{http://java.sun.com/xml/ns/persistence} {http://java.sun.com/xml/ns/persistence_2_0.xsd}"
</span><span class='line'>  version="2.0"&gt;
</span><span class='line'>  
</span><span class='line'>  &lt;persistence-unit name="punit"&gt;
</span><span class='line'>  &lt;/persistence-unit&gt;
</span><span class='line'>  
</span><span class='line'>&lt;/persistence&gt;</span></code></pre></td></tr></table></div></figure>


<h2>5. Create the Spring Configuration File</h2>

<p>As defined in the web.xml, create a file named applicationContext.xml under the folder src/main/resources folder in the project to define JPA and Hibernate related configurations. Note that any file created under src/main/resources folder in a maven project will be automagically added by Maven to the classpath. If STS(Spring Tool Suite) is the IDE, go ahead and enable the context, jpa, mvc and tx namespaces. The applicationContext.xml will be as shown below</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
</span><span class='line'>&lt;beans xmlns="http://www.springframework.org/schema/beans"
</span><span class='line'>  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
</span><span class='line'>  xmlns:jpa="http://www.springframework.org/schema/data/jpa"
</span><span class='line'>  xmlns:tx="http://www.springframework.org/schema/tx"
</span><span class='line'>  xmlns:context="http://www.springframework.org/schema/context"
</span><span class='line'>  xmlns:mvc="http://www.springframework.org/schema/mvc"
</span><span class='line'>  xsi:schemaLocation="http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd
</span><span class='line'>      http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
</span><span class='line'>      http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.3.xsd
</span><span class='line'>      http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd
</span><span class='line'>      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd"&gt;</span></code></pre></td></tr></table></div></figure>


<p>After enabling the required namespaces, include the following (in between the &lt;beans&gt; and &lt;/beans&gt; tags) to indicate that the application is annotation driven, base package for context component scan and base package for the jpa repositories scan.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;mvc:annotation-driven /&gt;
</span><span class='line'>          
</span><span class='line'>&lt;context:annotation-config /&gt;
</span><span class='line'>&lt;context:component-scan base-package="com.github.elizabetht" /&gt;
</span><span class='line'>  
</span><span class='line'>&lt;jpa:repositories base-package="com.github.elizabetht.repository" /&gt;
</span></code></pre></td></tr></table></div></figure>


<p>Next, include the bean PersistenceAnnotationBeanPostProcessor. This is necessary to process the Persistence Unit, Persistence Context annotations and for injecting JPA related resources.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;bean class="org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor" /&gt;</span></code></pre></td></tr></table></div></figure>


<p>Include the bean for EntityManagerFactory which lists the various JPA related properties/resources.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;bean id="entityManagerFactory" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"&gt;
</span><span class='line'>      &lt;property name="persistenceUnitName" value="punit" /&gt;
</span><span class='line'>      &lt;property name="dataSource" ref="dataSource" /&gt;
</span><span class='line'>      &lt;property name="jpaVendorAdapter"&gt;
</span><span class='line'>          &lt;bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter"&gt;
</span><span class='line'>              &lt;property name="showSql" value="true" /&gt;
</span><span class='line'>          &lt;/bean&gt;
</span><span class='line'>      &lt;/property&gt;
</span><span class='line'>      &lt;property name="jpaPropertyMap"&gt;
</span><span class='line'>          &lt;map&gt;
</span><span class='line'>              &lt;entry key="hibernate.dialect" value="org.hibernate.dialect.MySQL5InnoDBDialect" /&gt;
</span><span class='line'>              &lt;entry key="hibernate.hbm2ddl.auto" value="validate" /&gt;
</span><span class='line'>              &lt;entry key="hibernate.format_sql" value="true" /&gt;
</span><span class='line'>          &lt;/map&gt;
</span><span class='line'>      &lt;/property&gt;
</span><span class='line'>  &lt;/bean&gt;</span></code></pre></td></tr></table></div></figure>


<p>Include the bean for data source, where the properties of the MYSQL DB like url, username and password can be specified. Replace &lt;include connection url&gt; with the actual connection url for connecting to the MYSQL DB. Likewise, replace &lt;include username&gt; and &lt;include password&gt; with the actual username and password values.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;
</span><span class='line'>      &lt;property name="driverClassName" value="com.mysql.jdbc.Driver" /&gt;
</span><span class='line'>      &lt;property name="url" value="jdbc:mysql//&lt;include connection url&gt;:3306/studentEnrollment?autoReconnect=true&amp;createDatabaseIfNotExist=true&amp;" /&gt;
</span><span class='line'>      &lt;property name="username" value="&lt;include username&gt;" /&gt;
</span><span class='line'>      &lt;property name="password" value="&lt;include password&gt;" /&gt;
</span><span class='line'>&lt;/bean&gt;</span></code></pre></td></tr></table></div></figure>


<p>Include the bean for transaction manager for scoping/controlling the transactions.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager"&gt;
</span><span class='line'>      &lt;property name="entityManagerFactory" ref="entityManagerFactory" /&gt;
</span><span class='line'>&lt;/bean&gt;
</span><span class='line'>  
</span><span class='line'>&lt;tx:annotation-driven transaction-manager="transactionManager" /&gt;</span></code></pre></td></tr></table></div></figure>


<p>Thus ends the long configuration in applicationContext.xml</p>

<h2>6. Create JSP Files for Student Signup/Login</h2>

<p>Create a folder named &ldquo;jsp&rdquo; under WEB-INF (This is where the jsp files will be created as indicated in the web.xml for the JSP TemplateBasePath).</p>

<p>Create a file signup.jsp to include a form to get the input details like UserName, Password, FirstName, LastName, DateOfBirth and EmailAddress of the student. A snapshot of the signup page is as follows:</p>

<p><img src="/images/signup.png" title="Jersey REST Spring Hibernate Signup Layout" alt="Jersey REST Spring Hibernate Signup Layout" /></p>

<p>Next, create a file login.jsp to include a form with UserName and Password. A snapshot of the login page is as follows:</p>

<p><img src="/images/login.png" title="Jersey REST Spring Hibernate Login Layout" alt="Jersey REST Spring Hibernate Login Layout" /></p>

<p>Also create success.jsp to indicate the login success and failure.jsp to indicate login failure (These are just pages used to display the contents &ndash; no processing logic involved).</p>

<p>This application uses twitter bootstrap <a href="http://getbootstrap.com/">http://getbootstrap.com/</a> and <a href="http://bootswatch.com/united/">http://bootswatch.com/united/</a> as style sheets. It also uses a datepicker stylesheet as well to pop up a calendar for the DateOfBirth field in the Student Signup page (<a href="http://www.eyecon.ro/bootstrap-datepicker/">http://www.eyecon.ro/bootstrap-datepicker/</a>).</p>

<p>A reference link to the files under webapp folder of this application can be found at <a href="https://github.com/elizabetht/StudentEnrollmentWithREST/tree/master/src/main/webapp">https://github.com/elizabetht/StudentEnrollmentWithREST/tree/master/src/main/webapp</a></p>

<h2>7. Create packages for Resource, Service, Repository and Model tier classes</h2>

<p>Create packages each for the Jersey Resource, Service, Repository and Model classes under the src/main/java folder.</p>

<p>A sample snapshot of the project after the package creation is as shown below:</p>

<p><img src="/images/jersey-package.png" title="Jersey REST Spring Package Layout" alt="Jersey REST Spring Package Layout" /></p>

<h2>8. Create classes for Model Tier</h2>

<p>Create a POJO class named Student.java inside the package com.github.elizabetht.model to include the details of the Student model entity during signup. Create another POJO class named StudentLogin.java inside the same package com.github.elizabetht.model to include the Student Login details.</p>

<p>Annotate the classes with @Component to be picked by the Context-Component Scan of the Jersey-Spring framework. Also annotate the classes with @XmlRootElement to indicate the XML Element.</p>

<p>A reference link to the files for the Model classes can be found at <a href="https://github.com/elizabetht/StudentEnrollmentWithREST/tree/master/src/main/java/com/github/elizabetht/model">https://github.com/elizabetht/StudentEnrollmentWithREST/tree/master/src/main/java/com/github/elizabetht/model</a></p>

<h2>9. Create class for Repository Tier</h2>

<p>Create an interface class named StudentRepository.java inside the package com.github.elizabetht.repository to support the repository tier database operations.</p>

<p>There are two interface methods needed for the application&rsquo;s purpose.</p>

<ul>
<li>To Insert the Student Signup details into the Database</li>
<li>To Verify the Student Login details from the Database</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>@Repository("studentRepository")
</span><span class='line'>public interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {
</span><span class='line'>  
</span><span class='line'>  @Query("select s from Student s where s.userName = :userName")
</span><span class='line'>  Student findByUserName(@Param("userName") String userName);
</span><span class='line'>  
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>The save() method is supported by the Hibernate implementation and hence no separate SQL statements are required for the data insert.</p>

<h2>10. Create classes for Service Tier</h2>

<p>Create an interface class named StudentService.java inside the package com.github.elizabetht.service to support the service tier operations.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public interface StudentService {
</span><span class='line'>  Student save(Student student);
</span><span class='line'>  boolean findByLogin(String userName, String password);
</span><span class='line'>  boolean findByUserName(String userName);
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>Create a service tier implementation class (a POJO indeed) named StudentServiceImpl.java inside the package com.github.elizabetht.service. This is where the application logic goes &ndash; either to save the student details into the database or to verify the student (already saved) details from the database.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>@Service("studentService")
</span><span class='line'>public class StudentServiceImpl implements StudentService {
</span><span class='line'>
</span><span class='line'>  @Autowired
</span><span class='line'>  private StudentRepository studentRepository;
</span><span class='line'>  
</span><span class='line'>  @Transactional
</span><span class='line'>  public Student save(Student student) {
</span><span class='line'>      return studentRepository.save(student);
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  public boolean findByLogin(String userName, String password) {  
</span><span class='line'>      Student stud = studentRepository.findByUserName(userName);
</span><span class='line'>      
</span><span class='line'>      if(stud != null && stud.getPassword().equals(password)) {
</span><span class='line'>          return true;
</span><span class='line'>      } 
</span><span class='line'>      
</span><span class='line'>      return false;       
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>  public boolean findByUserName(String userName) {
</span><span class='line'>      Student stud = studentRepository.findByUserName(userName);
</span><span class='line'>      
</span><span class='line'>      if(stud != null) {
</span><span class='line'>          return true;
</span><span class='line'>      }
</span><span class='line'>      
</span><span class='line'>      return false;
</span><span class='line'>  }
</span><span class='line'>
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h2>11. Create class for Resource Tier</h2>

<p>Create a Resource tier POJO class named StudentResource.java inside the package com.github.elizabetht.resource. This is where a REST API is implemented for each of the operation performed from the front end.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>@Component
</span><span class='line'>@Path("studentResource")
</span><span class='line'>@XmlRootElement
</span><span class='line'>public class StudentResource {
</span><span class='line'>  
</span><span class='line'>  @Autowired
</span><span class='line'>  private StudentService studentService;
</span><span class='line'>  
</span><span class='line'>  @GET    
</span><span class='line'>  @Produces(MediaType.TEXT_PLAIN)
</span><span class='line'>  public String start() {
</span><span class='line'>      if(studentService != null) {
</span><span class='line'>          return "StudentService: Not Null";
</span><span class='line'>      } else {
</span><span class='line'>          return "StudentService: Null";
</span><span class='line'>      }
</span><span class='line'>  }
</span><span class='line'>  
</span><span class='line'>  @GET
</span><span class='line'>  @Path("signup")
</span><span class='line'>  @Produces(MediaType.TEXT_HTML)
</span><span class='line'>  public Viewable signup() {          
</span><span class='line'>      return new Viewable("/signup");
</span><span class='line'>  }
</span><span class='line'>      
</span><span class='line'>  @POST
</span><span class='line'>  @Path("signup")
</span><span class='line'>  @Consumes(MediaType.APPLICATION_FORM_URLENCODED)
</span><span class='line'>  @Produces(MediaType.TEXT_HTML)
</span><span class='line'>  public Viewable signup(@FormParam("userName") String userName,
</span><span class='line'>          @FormParam("password") String password,
</span><span class='line'>          @FormParam("firstName") String firstName,
</span><span class='line'>          @FormParam("lastName") String lastName,
</span><span class='line'>          @FormParam("dateOfBirth") String dateOfBirth,
</span><span class='line'>          @FormParam("emailAddress") String emailAddress) throws ParseException {
</span><span class='line'>      
</span><span class='line'>      Student student = new Student();
</span><span class='line'>      student.setUserName(userName);
</span><span class='line'>      student.setPassword(password);
</span><span class='line'>      student.setFirstName(firstName);
</span><span class='line'>      student.setLastName(lastName);
</span><span class='line'>      student.setDateOfBirth(new java.sql.Date(new SimpleDateFormat("MM/dd/yyyy")
</span><span class='line'>          .parse(dateOfBirth.substring(0, 10)).getTime()));
</span><span class='line'>      student.setEmailAddress(emailAddress);
</span><span class='line'>      
</span><span class='line'>      if(studentService.findByUserName(userName)) {
</span><span class='line'>          Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();
</span><span class='line'>          map.put("message", "User Name exists. Try another user name");
</span><span class='line'>          map.put("student", student);
</span><span class='line'>          return new Viewable("/signup", map);
</span><span class='line'>          
</span><span class='line'>      } else {
</span><span class='line'>          studentService.save(student);
</span><span class='line'>          return new Viewable("/login");
</span><span class='line'>      }
</span><span class='line'>  }
</span><span class='line'>  
</span><span class='line'>  @GET
</span><span class='line'>  @Path("login")
</span><span class='line'>  @Produces(MediaType.TEXT_HTML)
</span><span class='line'>  public Viewable login() {           
</span><span class='line'>      return new Viewable("/login");
</span><span class='line'>  }
</span><span class='line'>  
</span><span class='line'>  @POST
</span><span class='line'>  @Path("login")
</span><span class='line'>  @Consumes(MediaType.APPLICATION_FORM_URLENCODED)
</span><span class='line'>  @Produces(MediaType.TEXT_HTML)
</span><span class='line'>  public Viewable login(@FormParam("userName") String userName,
</span><span class='line'>          @FormParam("password") String password) {
</span><span class='line'>      boolean found = studentService.findByLogin(userName, password);
</span><span class='line'>      if (found) {                
</span><span class='line'>          return new Viewable("/success");
</span><span class='line'>      } else {                
</span><span class='line'>          return new Viewable("/failure");
</span><span class='line'>      }
</span><span class='line'>  }
</span><span class='line'>  
</span><span class='line'>  
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h2>12. Create the DB Schema in a MYSQL DB</h2>

<p>Connect to the MySQL DB which is to be used for this application and create a new DB Schema named studentEnrollment using the MySQL Workbench.
This is necessary as the DB Schema name of studentEnrollment is specified in the dataSource bean in applicationContext.xml</p>

<p>Once the studentEnrollment DB Schema is created, create a table named student inside the DB Schema using the CREATE TABLE statement as follows:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>CREATE TABLE `student` (
</span><span class='line'>  `id` bigint(20) NOT NULL AUTO_INCREMENT,
</span><span class='line'>  `dateOfBirth` datetime NOT NULL,
</span><span class='line'>  `emailAddress` varchar(255) NOT NULL,
</span><span class='line'>  `firstName` varchar(255) NOT NULL,
</span><span class='line'>  `lastName` varchar(255) NOT NULL,
</span><span class='line'>  `password` varchar(8) NOT NULL,
</span><span class='line'>  `userName` varchar(20) NOT NULL,
</span><span class='line'>  PRIMARY KEY (`id`)
</span><span class='line'>) ENGINE=InnoDB AUTO_INCREMENT=43 DEFAULT CHARSET=latin1;</span></code></pre></td></tr></table></div></figure>


<h2>13. Deploying the Application on Tomcat Server</h2>

<p>Once the above steps are complete and the project is successfully built, the Java web application is ready to deployed on the Tomcat Server 7.</p>

<p>The Java web application can be deployed locally by right clicking on the project and choosing the &ldquo;Run As->Run on Server&rdquo; option.</p>

<p>The same can be deployed remotely on any native server that supports Tomcat by copying the WAR file (Right click on the project and choose Export as WAR File option) to /var/lib/tomcat7 folder (or appropriate tomcat directory) and restarting the tomcat server.</p>

<p>This application is available for a demo here: <a href="http://ec2-23-20-137-135.compute-1.amazonaws.com:8080/StudentEnrollmentWithREST/">http://ec2-23-20-137-135.compute-1.amazonaws.com:8080/StudentEnrollmentWithREST/</a></p>

<h2>14. Clone or Download code</h2>

<p>If using git, clone a copy of this project here: <a href="https://github.com/elizabetht/StudentEnrollmentWithREST.git">https://github.com/elizabetht/StudentEnrollmentWithREST.git</a></p>

<p>In case of not using git, download the project as ZIP or tar.gz file here: <a href="https://github.com/elizabetht/StudentEnrollmentWithSpring/releases/tag/1.6">https://github.com/elizabetht/StudentEnrollmentWithSpring/releases/tag/1.6</a></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Elizabeth Thomas</span></span>

      








  


<time datetime="2013-12-13T10:45:30-06:00" pubdate data-updated="true">Dec 13<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/hibernate/'>Hibernate,</a>, <a class='category' href='/blog/categories/jpa/'>JPA,</a>, <a class='category' href='/blog/categories/java/'>Java,</a>, <a class='category' href='/blog/categories/jersey/'>Jersey,</a>, <a class='category' href='/blog/categories/maven/'>Maven,</a>, <a class='category' href='/blog/categories/rest/'>REST</a>, <a class='category' href='/blog/categories/spring/'>Spring,</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://elizabetht.github.io/blog/2013/12/13/student-enrollment-using-jersey-rest-with-spring/" data-via="email2eliza" data-counturl="http://elizabetht.github.io/blog/2013/12/13/student-enrollment-using-jersey-rest-with-spring/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/11/21/student-enrollment-using-jdbc/" title="Previous Post: Building Java Web Application Using JDBC">&laquo; Building Java Web Application Using JDBC</a>
      
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/12/13/student-enrollment-using-jersey-rest-with-spring/">Building Java Web Application Using Jersey REST With Spring</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/21/student-enrollment-using-jdbc/">Building Java Web Application Using JDBC</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/21/student-enrollment-using-struts-2/">Building Java Web Application Using Struts 2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/21/student-enrollment-using-hibernate-with-spring/">Building Java Web Application Using Hibernate With Spring</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/21/student-enrollment-using-mybatis-with-spring/">Building Java Web Application Using MyBatis With Spring</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Elizabeth Thomas -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
